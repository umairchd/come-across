<div class="container">
  <div class="d-flex gap-5 justify-content-between mt-4 align-items-center">
    <h3 class="mb-0"><%= @place.name %></h3>
    <p class="mb-0">Visted at <%= @place.date %></p>

    <div class="container-wrapper" style="pointer-events: none;">
      <!-- star rating -->
      <div class="rating-wrapper">
        <!-- star 5 -->
        <input type="radio" id="5-star-rating" name="star-rating" value="5" <%= 'checked' if @over_all_rating == 5 %>>
        <label for="5-star-rating" class="star-rating">
          <i class="fa fa-star d-inline-block"></i>
        </label>

        <!-- star 4 -->
        <input type="radio" id="4-star-rating" name="star-rating" value="4" <%= 'checked' if @over_all_rating == 4 %>>
        <label for="4-star-rating" class="star-rating star">
          <i class="fa fa-star d-inline-block"></i>
        </label>

        <!-- star 3 -->
        <input type="radio" id="3-star-rating" name="star-rating" value="3" <%= 'checked' if @over_all_rating == 3 %>>
        <label for="3-star-rating" class="star-rating star">
          <i class="fa fa-star d-inline-block"></i>
        </label>

        <!-- star 2 -->
        <input type="radio" id="2-star-rating" name="star-rating" value="2" <%= 'checked' if @over_all_rating == 2 %>>
        <label for="2-star-rating" class="star-rating star">
          <i class="fa fa-star d-inline-block"></i>
        </label>

        <!-- star 1 -->
        <input type="radio" id="1-star-rating" name="star-rating" value="1" <%= 'checked' if @over_all_rating == 1 %>>
        <label for="1-star-rating" class="star-rating star">
          <i class="fa fa-star d-inline-block"></i>
        </label>
      </div>
    </div>

  </div>
  <div class="card p-4 mt-5 shadow-sm">
    <div class="d-flex gap-5 align-items-center justify-content-between mb-4">
      <div class="">
        <h4 class="mb-0">Photos</h4>

      </div>
    </div>
    <div class="lazy_carousel">
      <% @place.images.each do |image| %>
        <div class="carousel_image">
          <%= image_tag image %>
        </div>
      <% end %>
    </div>
  </div>
  <div onload="initialize()">
    <div id="earth_div">
    </div>
  </div>


  <div class="my-4"  style="pointer-events: none;">
    <div class="d-flex g-5 align-items-center">
      <h6 class="mb-0">Food</h6>
      <div class="container-wrapper">
        <!-- star rating -->
        <div class="rating-wrapper">
          <!-- star 5 -->
          <input type="radio" id="5-star-food-rating" name="food-star-rating" value="5"  <%= 'checked' if @food_rating == 5 %>>
          <label for="5-star-food-rating" class="star-rating">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 4 -->
          <input type="radio" id="4-star-food-rating" name="food-star-rating" value="4"  <%= 'checked' if @food_rating == 4 %>>
          <label for="4-star-food-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 3 -->
          <input type="radio" id="3-star-food-rating" name="food-star-rating" value="3"  <%= 'checked' if @food_rating == 3 %>>
          <label for="3-star-food-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 2 -->
          <input type="radio" id="2-star-food-rating" name="food-star-rating" value="2"  <%= 'checked' if @food_rating == 2 %>>
          <label for="2-star-food-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 1 -->
          <input type="radio" id="1-star-food-rating" name="food-star-rating" value="1"  <%= 'checked' if @food_rating == 1 %>>
          <label for="1-star-food-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>
        </div>
      </div>
    </div>
    <div class="d-flex g-5 align-items-center">
      <h6 class="mb-0">Landscape</h6>
      <div class="container-wrapper">
        <!-- star rating -->
        <div class="rating-wrapper">
          <!-- star 5 -->
          <input type="radio" id="5-star-landscape-rating" name="landscape-star-rating" value="5"  <%= 'checked' if @landscape_rating == 5 %>>
          <label for="5-star-landscape-rating" class="star-rating">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 4 -->
          <input type="radio" id="4-star-landscape-rating" name="landscape-star-rating" value="4"  <%= 'checked' if @landscape_rating == 4 %>>
          <label for="4-star-landscape-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 3 -->
          <input type="radio" id="3-star-landscape-rating" name="landscape-star-rating" value="3"  <%= 'checked' if @landscape_rating == 3 %>>
          <label for="3-star-landscape-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 2 -->
          <input type="radio" id="2-star-landscape-rating" name="landscape-star-rating" value="2"  <%= 'checked' if @landscape_rating == 2 %>>
          <label for="2-star-landscape-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 1 -->
          <input type="radio" id="1-star-landscape-rating" name="landscape-star-rating" value="1"  <%= 'checked' if @landscape_rating == 1 %>>
          <label for="1-star-landscape-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>
        </div>
      </div>
    </div>
    <div class="d-flex g-5 align-items-center">
      <h6 class="mb-0">People / Culture</h6>
      <div class="container-wrapper">
        <!-- star rating -->
        <div class="rating-wrapper">
          <!-- star 5 -->
          <input type="radio" id="5-star-people-rating" name="people-star-rating" value="5"  <%= 'checked' if @people_rating == 5 %>>
          <label for="5-star-people-rating" class="star-rating">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 4 -->
          <input type="radio" id="4-star-people-rating" name="people-star-rating" value="4"  <%= 'checked' if @people_rating == 4 %>>
          <label for="4-star-people-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 3 -->
          <input type="radio" id="3-star-people-rating" name="people-star-rating" value="3"  <%= 'checked' if @people_rating == 3 %>>
          <label for="3-star-people-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 2 -->
          <input type="radio" id="2-star-people-rating" name="people-star-rating" value="2"  <%= 'checked' if @people_rating == 2 %>>
          <label for="2-star-people-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>

          <!-- star 1 -->
          <input type="radio" id="1-star-people-rating" name="people-star-rating" value="1"  <%= 'checked' if @people_rating == 1 %>>
          <label for="1-star-people-rating" class="star-rating star">
            <i class="fa fa-star d-inline-block"></i>
          </label>
        </div>
      </div>
    </div>
  </div>


  <div class="d-flex gap-3 align-items-center mt-5">
    <%= form_with class: 'w-100', model: [@place, @comment], url: create_comment_place_path do |form| %>
      <%= form.label :Comment %>
      <%= form.text_area :body, class: 'w-100', placeholder: 'Enter your comment here', rows: 3 %>
      <%= form.submit 'Post Comment', class: 'btn btn-primary mt-2' %>
    <% end %>
  </div>

  <div class="border-bottom my-4"></div>
  <% @place.comments.each do |comment| %>
    <div>

      <div class="cmt_blk">
        <h6 class="comt"><%= comment.body %></h6>
        <p class="mb-0 details">Posted by Anonymous User <%= time_ago_in_words(comment.created_at)%> ago</p>
      </div>
    </div>
  <% end %>
</div>
<script src="https://www.webglearth.com/v2/api.js"></script>
<script>
    $('.lazy_carousel').slick({
        lazyLoad: 'ondemand',
        slidesToShow: 3,
        slidesToScroll: 1,
        centerPadding: "20px",
        arrows: true
    });

    $(document).ready( function (){
        var earth = new WE.map('earth_div');
        WE.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(earth);
        var marker2 = WE.marker(<%= [@place.latitude, @place.longitude] %>).addTo(earth);
        marker2.bindPopup("<%= @place.name %>", {maxWidth: 120, closeButton: false});
    })

</script>